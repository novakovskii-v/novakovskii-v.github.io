<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>STL Loader</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/STLLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <script>
      const scene = new THREE.Scene()
      scene.add(new THREE.AxesHelper(5))

      const light = new THREE.SpotLight()
      light.position.set(20, 20, 20)
      scene.add(light)

      const camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
      )
      camera.position.z = 300

      const renderer = new THREE.WebGLRenderer()
      renderer.setSize(window.innerWidth, window.innerHeight)
      document.body.appendChild(renderer.domElement)

      const controls = new THREE.OrbitControls(camera, renderer.domElement)
      controls.enableDamping = true

      const loader = new THREE.STLLoader()
         const loader = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
      loader.load(
          'example.stl',
          function (geometry) {
              const mesh = new THREE.Mesh(geometry)
              scene.add(mesh)
          },
          (xhr) => {
              console.log((xhr.loaded / xhr.total) * 100 + '% loaded')
          },
          (error) => {
              console.log(error)
          }
      )

      window.addEventListener('resize', onWindowResize, false)
      function onWindowResize() {
          camera.aspect = window.innerWidth / window.innerHeight
          camera.updateProjectionMatrix()
          renderer.setSize(window.innerWidth, window.innerHeight)
          render()
      }

      function animate() {
          requestAnimationFrame(animate)

          controls.update()

          render()
      }

      function render() {
          renderer.render(scene, camera)
      }

      animate()
    </script>
  </body>
</html>
